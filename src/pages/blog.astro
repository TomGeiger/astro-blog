---
import Layout from "./../layouts/Layout.astro";
import Showcase from "./../components/Showcase.astro";
import Card from "./../components/Card.astro";

// const response = await fetch('https://jsonplaceholder.typicode.com/posts?_limit=5')
// const posts = await response.json()

// const cardData = [
//     {
//         title: "Astro 1.0",
//         body: "Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisqua voluptate, quae, quod, voluptates quibusdam voluptatibus quidem voluptatum quos quia quas nesciunt. Quisquam, quae. Quisquam, quae. Quisquam, quae. Quisquam, quae.",
//     },
//     {
//         title: "Astro 1.0 Release Update",
//         body: "Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisqua voluptate, quae, quod, voluptates quibusdam voluptatibus quidem voluptatum quos quia quas nesciunt. Quisquam, quae. Quisquam, quae. Quisquam, quae. Quisquam, quae.",
//     },
//     {
//         title: "Astro on Netlify Edge Functions",
//         body: "Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisqua voluptate, quae, quod, voluptates quibusdam voluptatibus quidem voluptatum quos quia quas nesciunt. Quisquam, quae. Quisquam, quae. Quisquam, quae. Quisquam, quae.",
//     },
//     {
//         title: "Astro 4.0",
//         body: "Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisqua voluptate, quae, quod, voluptates quibusdam voluptatibus quidem voluptatum quos quia quas nesciunt. Quisquam, quae. Quisquam, quae. Quisquam, quae. Quisquam, quae.",
//     },
//     {
//         title: "Astro 5.0",
//         body: "Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisqua voluptate, quae, quod, voluptates quibusdam voluptatibus quidem voluptatum quos quia quas nesciunt. Quisquam, quae. Quisquam, quae. Quisquam, quae. Quisquam, quae.",
//     },
//     {
//         title: "Astro 6.0",
//         body: "Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisqua voluptate, quae, quod, voluptates quibusdam voluptatibus quidem voluptatum quos quia quas nesciunt. Quisquam, quae. Quisquam, quae. Quisquam, quae. Quisquam, quae.",
//     },
//     {
//         title: "Astro 7.0",
//         body: "Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisqua voluptate, quae, quod, voluptates quibusdam voluptatibus quidem voluptatum quos quia quas nesciunt. Quisquam, quae. Quisquam, quae. Quisquam, quae. Quisquam, quae.",
//     },
//     {
//         title: "Astro 8.0",
//         body: "Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisqua voluptate, quae, quod, voluptates quibusdam voluptatibus quidem voluptatum quos quia quas nesciunt. Quisquam, quae. Quisquam, quae. Quisquam, quae. Quisquam, quae.",
//     },
//     {
//         title: "Astro 9.0",
//         body: "Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisqua voluptate, quae, quod, volupt",
//     },
// ];

const posts = await Astro.glob("./../posts/*.md");
---

<Layout title="Astro Blog">
    <Showcase title={"Astro Blog"} desc={"A simple blog built with Astro"} />

    <section class="page-content">
        <div class="container">
            {
                posts.map((post) => (
                    <Card>
                        <h2>{post.frontmatter.title}</h2>
                        <div>
                            Written by
                            <strong>{post.frontmatter.author}</strong> on
                            {new Date(
                                post.frontmatter.date
                            ).toLocaleDateString()}
                        </div>

                        <p>{post.frontmatter.exerpt}</p>
                        <a class="btn" href={`/${post.frontmatter.slug}`}>
                            Read More
                        </a>
                    </Card>
                ))
            }
        </div>
    </section>

    <!-- <section class="page-content">
        <div class="container">
            {posts.map((post) => (
                <Card>
                    <h3>{post.title}</h3>
                    <p>{post.body}</p>
                    <a href="post.html" class="btn">
                            Read More
                        </a>
                </Card>
            ))}
        </div> -->

    <!-- <div class="container">
            {
                cardData.map((card) => (
                    <Card dark={false}>
                        <h3>{card.title}</h3>
                        <p>{card.body}</p>
                        <a href="post.html" class="btn">
                            Read More
                        </a>
                    </Card>
                ))
            }
        </div> -->
    <!-- </section> -->
</Layout>
